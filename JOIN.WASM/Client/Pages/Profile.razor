@page "/"
@using JOIN.WASM.Client.ViewModels
@using JOIN.WASM.Shared.Models
@inject IProfileViewModel _profileViewModel


<div class="col-12">
    <input type="text" @bind-value="_profileViewModel.FirstName" class="form-control" placeholder="first name">
    <br/>
    <input type="text" @bind-value="_profileViewModel.LastName" class="form-control" placeholder="last name">
    <br/>
    <input type="text" @bind-value="_profileViewModel.EmailAddress" class="form-control" placeholder="email address">
    <br/>
    <textarea class="form-control" @bind="_profileViewModel.AboutMe" placeholder="about me"></textarea>
    <br/>
    <button class="btn btn-primary" @onclick="_profileViewModel.UpdateProfile">Update Profile</button>
    <span>&nbsp;&nbsp;</span>@_profileViewModel.Message
</div>


@code {

    protected override async Task OnInitializedAsync() => await _profileViewModel.GetProfile();

}

@*@code {

    private ProfileViewModel _profileViewModel = new ProfileViewModel();

    //private async Task UpdateProfile()
    //{
    //    User user = _profileViewModel;
    //    await HttpClient.PutAsJsonAsync("user/updateprofile/10",user);
    //    _profileViewModel.Message = "Profile updated successfully";
    //}

    //private async Task GetProfile()
    //{
    //    User user = await HttpClient.GetFromJsonAsync<User>("user/getprofile/10");
    //    _profileViewModel = user;
    //    _profileViewModel.Message = "Profile loaded successfully";
    //}

}*@
